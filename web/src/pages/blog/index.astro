---
import Layout from '../../layouts/Layout.astro';
import { getCollection } from 'astro:content';
const posts = (await getCollection('blog', ({ data }) => !data.draft))
  .sort((a, b) => +b.data.date - +a.data.date);
---
<Layout title="Blog — Maud Pozza, psychologue à Angers">
  <h1 class="text-3xl font-semibold text-[#423560] mb-6">Blog</h1>
  <ul class="space-y-4">
    {posts.map((post) => (
      <li class="border rounded-lg p-4 hover:shadow-sm transition">
        <a href={`/blog/${post.slug}/`} class="block">
          <h2 class="text-xl font-medium text-[#6A559A]">{post.data.title}</h2>
          {post.data.description && (
            <p class="text-sm text-gray-600 mt-1">{post.data.description}</p>
          )}
          <p class="text-xs text-gray-500 mt-1">{new Date(post.data.date).toLocaleDateString('fr-FR')}</p>
        </a>
      </li>
    ))}
  </ul>
</Layout>

